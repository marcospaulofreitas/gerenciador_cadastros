<% if tecnicos.any? %>
  <div class="table-responsive">
    <table class="table table-sm table-hover mb-0">
      <thead>
        <tr style="font-size: 0.85rem; text-align: center;">
          <th>Nome</th>
          <th>Email</th>
          <th>Revenda</th>
          <th>Função</th>
          <th>Perfil</th>
          <th>Status</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        <% tecnicos.each do |tecnico| %>
          <tr style="font-size: 0.8rem; text-align: center;">
            <td><%= tecnico.name %></td>
            <td><%= tecnico.email %></td>
            <td><%= tecnico.revenda.nome_fantasia %></td>
            <td><%= tecnico.funcao.humanize %></td>
            <td>
              <span class="badge bg-<%= tecnico.administrador? ? 'primary' : 'secondary' %>" style="font-size: 0.7rem; min-width: 70px;">
                <%= tecnico.administrador? ? 'Admin' : 'Técnico' %>
              </span>
            </td>
            <td>
              <span class="badge <%= tecnico.active? ? 'bg-success' : 'bg-danger' %>" style="font-size: 0.7rem; min-width: 60px;">
                <%= tecnico.active? ? 'Ativo' : 'Inativo' %>
              </span>
            </td>
            <td>
              <div class="d-flex gap-2 justify-content-center">
                <%= link_to revenda_tecnico_path(tecnico.revenda, tecnico, from: 'tecnicos_globais'), class: "btn btn-outline-info btn-sm", style: "width: 30px; height: 26px; font-size: 0.8rem; padding: 2px;",
                    title: "Visualizar técnico", data: { bs_toggle: "tooltip", bs_placement: "top" } do %>
                  <i class="fas fa-eye"></i>
                <% end %>
                <%= link_to "#", class: "btn btn-outline-#{tecnico.active? ? 'danger' : 'success'} btn-sm toggle-tecnico-btn", style: "width: 30px; height: 26px; font-size: 0.8rem; padding: 2px;",
                    title: "#{tecnico.active? ? 'Desativar' : 'Ativar'} técnico", data: { bs_toggle: "tooltip", bs_placement: "top", tecnico_id: tecnico.id, action: tecnico.active? ? 'desativar' : 'ativar' } do %>
                  <% if tecnico.active? %>
                    <i class="fas fa-ban"></i>
                  <% else %>
                    <i class="fas fa-check"></i>
                  <% end %>
                <% end %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
<% else %>
  <div class="text-center text-muted py-3">
    <p class="mb-0">Nenhum técnico encontrado.</p>
  </div>
<% end %>